notes

// one website for admin and user
	- login with phone number
	- send verification code
	- check if user is admin
	- admin page will have option to post

	- right now lookup.js line 76 sets lastMessageAt: Date() I don't think that gives the current date? Date.now? also, we should be looking for the message status and if it actually sent

	- username suggestions?

	- when do we switch users to hiatus and retired? --> add a button on dashboard 
	- what constitutes being active or on hiatus?
	-user needs current mission, current challenge
	-userChallenge needs a status completed, date started, date finished

	Adding mission/challenges:

	1. reorder challenges by dragging
	2. view/edit toggle
	3. have a trash can icon for delete (with confirmation to double check)
	4. little pop up that says "mission deleted", "mission saved", etc
	5. hooks that will update associated models (ie, adding challenge will update column in mission)
	6. adding or removing challenge will update other challenges order
	7. long/lat should pull form place
	8. is it better to set missions to state and just concat or better to dispatch again
	9. form validations for required fields and formatting
	10. cancel form if change mind

	9. mission delete should also delete challenges?
	10. send text message to users who were doing that challenge
	11. pass ideal image in to get targetTags for input form
	12. drop down so you can add unassigned challenges to a mission
	13. view and edit challenges specfically on a challenge page



TESTS ***************
	deleting challenges:

	deleting challenge when on missions page
	deleteing challenge from challenge page
		- challenge is assigned to mission
		- challenge is not assigned to mission

	adding challenges:

	adding challenge on missions page
	adding chalenge on challenge page
		- leave challenge unassigned
		- assign challenge


EACH MISSION should have an array of potential meeting places so that lots of
pairs don't all show up at the same place

- make sure search for partners excludes current user




TO DO: 
add link back to dashboard from admin page
fix sessions
missionChooser

- if getlocation calls function but doesn't find address, return "text in address directly"

- fic challenge card
- target answers not mandatory
- all mission and challenge attributes required
- make type a dropdown

- make sure mission is not required for challenge model
- make drop down arrow show

phone number and username should be unique
add self only to routes

context.stop is not stopping
add meetingPlace to forms

test save challenge function on challenge card
expander style

before adding challenge give it a num order

if i am on challenges page and i set the mission, how will it affect the challenge order



LATER
as admin view all users
stats on how many users have completed each mission
average time to complete each mission/ each challenge
missions done solo vs missions done in pair
dashboard should show who the partner was
send in photo to be stored on your account and for face recognition
send photo of partners face

add self only to routes

context.stop is not stopping

don't update user until message is sent
don't delete user

make sure all the permissions are stated on back end and front end
make sure you can't edit challenge from edit mission form x
deleting and adding challenge should update hasNext field

updating hasNext when challenge deleted from mission page
updating hasNext when challenge deleted from challenge page
updating hasNext when challenge assigned to mission
updating hasNext when challenge reassigned to mission

make if(challenge) in line 58 of challenge routes not necessary







every 5 minutes:

1. for each user create array (potentialPartners) of other players within m miles
2. create array potentialMissions of all missions within m miles
2. eliminate any players that have no overlapping uncompleted missions
3. for each potentialPartner assign value based on:
	a. preference: 
		- 0 to 10 would like to pair with again
		- 0 low, 10 high, 5 neutral
		- 8, 9, 10 take pref over new partner
		- new partner ranks higher than 0-7
	a. alternative: number of times partnered
	b. number of overlapping uncompleted missions

confirmation for username

Every time message is sent, update most recent message sent time
Every time message is recieved, update most recent message is recieved time

if user does not respond for 4 hours and last message was expecting response --> remind them of last message

request partner number
send request to partner
get confirmation 
send number or apology to user

	ALTERNATIVE

request communication with partner
get confirmation from partner
send confirmation or apology
"Agent says: ..."

LOOK UP HOW TO SEND TEXT WITHOUT BEING PROMPTED

how to deal with no shows?
storing photos in postgres?


we tell them to text in "new mission" but are never handling that


FOR DEMO NIGHT:

1. demo database
	a. have user with completed challenges/missions
2. approved branch
3. user pairing
4. format admin page

WHAT DID I DO?
1. admin page
2. authy set up
3. location parsing
4. persistent login



talk to ashi about "missions not defined"


